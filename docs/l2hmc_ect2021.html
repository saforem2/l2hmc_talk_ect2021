<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>l2hmc-qcd @ ECT 2021</title>
    <link rel="shortcut icon" href="./favicon.ico"/>
    <link rel="stylesheet" href="./dist/reveal.css" />
    <link rel="stylesheet" href="./dist/theme/simple.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/github.css" />
    <link rel="stylesheet" href="./_assets/custom/custom_theme.css" />

  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template">

<!-- .slide: data-background="#1c1c1c" -->
<!-- <h2 class="r-fit-text">Training Topological Samplers</h2> -->
## Training Topological Samplers
### for Lattice Gauge Theories
## <div style="color: #00CCFF">[**Sam Foreman**](mailto://foremans@anl.gov)</div>
##### 09/29/2021

[<img align="left" width=10% src="assets/github.svg">](https://github.com/saforem2/l2hmc-qcd)
[<img align="right" width=30% src="assets/Argonne_cmyk_white.svg">](https://alcf.anl.gov)
</script></section><section  data-markdown><script type="text/template">
# Generating Gauge Configurations

- In order to calculate physical quantities of interest, we 
</script></section><section  data-markdown><script type="text/template">
<div id="left" style="font-size: 0.75em;">

## <div style="color: #3B4CC0;">Critical Slowing Down</div>

- As $\beta\rightarrow\infty$, configurations tend to get stuck at $Q=\text{const}$.

- Equivalently, the _**tunneling rate**_: $\delta Q\equiv\left|Q_{i+1} - Q_{i}\right|\rightarrow 0$ as $\beta\rightarrow\infty$

- <div id="note" style="padding-left: 10px; padding-top: 5px; padding-bottom: 6px;">
  	<b>Goal</b>: Draw <i>independent</i> samples from target distribution $p(x)\propto e^{-\beta\,S(x)}$
  </div>

</div>

<div id="right">

![charge_freezing](assets/charge_freezing-crop.svg)

</div>
</script></section><section  data-markdown><script type="text/template">
## Hamiltonian Monte Carlo (HMC)

- Introduce $v \sim \mathcal{N}(0, \mathbb{I})$ distributed independently of $x$

- Our target density is then:
  $$ p(x, v) = p(x) \cdot p(v) = e^{-\beta S(x)}\cdot e^{-v^{T}v / 2} = e^{-H(x, v)}$$

- We can evolve the joint $\xi = (x, v)$ system using **Hamiltons equations** along $H=\text{const.}:$
  $$ \dot{x} = \frac{\partial H}{\partial v},\quad \dot{v} = -\frac{\partial H}{\partial x}$$
</script></section><section  data-markdown><script type="text/template">
## Integrate Hamilton's equations

$$\dot{x}=\frac{\partial H}{\partial v},\quad \dot{v} = -\frac{\partial H}{\partial x}$$

Starting from $x_0$, we integrate along a _trajectory_ by 
1. Resample the momentum $v\sim\mathcal{N}(0,\mathbb{1})$
2. For $i = 1,

<div id="left" style="font-size:0.8em;">

<div id="note" style="margin:auto; text-align:left; float: left; padding:10px; line-height:1.5;">

### <u>Leapfrog Step:</u>
<div style="font-size:0.7em;">$\xi\equiv (x, v)\rightarrow (x', v')$</div>
<ol style="text-align: left; padding-right: 20px;">
<li> $\,\, \tilde{v}\leftarrow v - \frac{\varepsilon}{2}\cdot \partial_{x} S(x)$</li>
<div id="bright"><li> $\,\, x'\leftarrow x + \varepsilon \tilde{v}$</li> </div>
<li> $\,\, v' \leftarrow \tilde{v} - \frac{\varepsilon}{2}\cdot \partial_{x} S(x')$</li>
</div>

</div>

</div>

<div id="right" style="font-size:0.66em;">

<div id="note" style="margin:auto; padding:5px; text-align:left; float: right; border:none;">

### <u>Accept / Reject:</u>
<div style="padding-left:10px;">

<div id="bright">
$x_{i+1}\leftarrow\begin{cases}
x'\text{ w/ prob. } A(\xi'|\xi),\\
x_{i} \text{ w/ prob. }1 - A(\xi'|\xi)
\end{cases}$
</div>
and  $A(\xi'|\xi)=\min\left\{1,\frac{p(\xi')}{p(\xi)}\left|\frac{\partial\xi'}{\partial\xi}\right|\right\}$


</div>
</div>

</div>
</script></section><section  data-markdown><script type="text/template">
**Metropolis-Hastings accept/reject**
  `\[\begin{equation}
  x_{i+1}\leftarrow
  \begin{cases}
  x'\quad\text{w/prob.}\quad A(\xi'|\xi)=\min\left\{1,\frac{p(\xi')}{p(\xi)}\left|\frac{\partial\xi'}{\partial\xi}\right|\right\},\\
      x_{i} \quad\text{w/prob.}\quad 1 - A(\xi'|\xi)
  \end{cases}
  \end{equation}\]`
</script></section><section  data-markdown><script type="text/template">
<!-- .slide: data-background="assets/hmc_slide.svg" -->
<!-- ![](assets/hmc_slide.svg)  <!-- element.width:100% --> -->
</script></section><section  data-markdown><script type="text/template">
## Hamiltonian Monte Carlo

<!-- <div id="centerflex">
<div id="note" style="max-width: 100%;padding-right:20px;text-align:left;padding-top:20px;line-height:1.6;">

<ol>
<li> $\,\, \tilde{v}\leftarrow v - \frac{\varepsilon}{2}\cdot \partial_{x} S(x)$</li>
<li> $\,\, x'\leftarrow x + \varepsilon \tilde{v}$</li>
<li> $\,\, v' \leftarrow \tilde{v} - \frac{\varepsilon}{2}\cdot \partial_{x} S(x')$</li>
</ol>

</div>
</div> -->

![](assets/hmc-crop.svg)
</script></section><section  data-markdown><script type="text/template">
### Networks

<div style="max-width=99%">

![](assets/net_fns.svg)

</div>
</script></section><section  data-markdown><script type="text/template">	
<div class="sl-block" style="width: auto; height: auto;">
	<div class="sl-block-content notranslate" style="z-index: 15; background-color: rgba(109, 158, 235, 0.35); border-style: solid; border-radius: 5px; border-color: rgb(255, 255, 255); padding: 4px;">
		$p(\xi) = p(x)\cdot p(v)\cdot p(d)$
	</div>
</div>

<style>
@import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@500&family=Source+Sans+Pro&display=swap');

:root {
    --r-main-font: 'Source Sans Pro', sans-serif;
    --r-heading-font: 'Roboto', Arial, Helvetica, sans-serif;
    --r-heading-text-transform: none;
    --r-heading1-size: 2.0em;
    --r-heading2-size: 1.5em;
    --r-heading3-size: 1.2em;
    --r-heading4-size: 1.15em;
    --r-link-color: #00CCFF;
    --r-link-color-dark: #f92672;
    --r-link-color-hover: #63ff51;
    --r-controls-color: #D7E6F3;
    --r-progress-color: #f20052;
    --r-selection-background-color: rgba(30, 60, 107, 0.9);
    --r-selection-color: #fff;
    --r-main-font-size: 36px;
    --r-main-color: #222;
    --r-block-margin: 20px;
    --r-heading-margin: 0 0 20px 0;
    --r-heading-color: #222;
    --r-heading-line-height: 1.2;
    --r-heading-letter-spacing: -0.45px;
    --r-heading-word-spacing: 0.5px;
}

.reveal {
        font-family: 'Source Sans Prop', sans-serif;
}

.reveal h1,
.reveal h2,
.reveal h3,
.reveal h4 {
    font-family: 'Roboto', sans-serif;
}

#left {
  margin: 0 0 15 10;
  text-align: left;
  float: left;
  z-index: -10;
  width: 48%;
  font-size: 0.85em;
}
#right {
  margin: 0 0 15 0;
  float: right;
  max-width: 48%;
  text-align: left;
  z-index: -10;
  width: 48%;
  font-size: 0.85em;
}
#dark_back {
    background-color: #1c1c1c;
    color: #efefef;
}
#bright {
    color: #Fa5252;
}
#note {
    background-color: rgba(215, 230, 243, 0.5);
    behavior:
    border-radius: 5px;
    border-color: rgba(215, 230, 243, 0.5);
    padding: auto;
    margin: auto;
}
</style>

</script></section></div>
    </div>

    <script src="./dist/reveal.js"></script>

    <script src="./plugin/markdown/markdown.js"></script>
    <script src="./plugin/highlight/highlight.js"></script>
    <script src="./plugin/zoom/zoom.js"></script>
    <script src="./plugin/notes/notes.js"></script>
    <script src="./plugin/math/math.js"></script>
    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath
        ]
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {"title":"l2hmc-qcd @ ECT 2021","controls":true,"progress":true,"history":true,"slideNumber":true,"transition":"fade","center":true}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
